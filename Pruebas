local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Sherya-Script-Private/Elerium-V5/refs/heads/main/Library", true))()
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local startTime = os.time()
local startRebirths = player.leaderstats.Rebirths.Value
local displayName = player.DisplayName

-- Anti-AFK System
local VirtualUser = game:GetService("VirtualUser")
local antiAFKConnection

local function setupAntiAFK()
    -- Disconnect previous connection if it exists
    if antiAFKConnection then
        antiAFKConnection:Disconnect()
    end
    
    -- Connect to PlayerIdleEvent to prevent AFK kicks
    antiAFKConnection = player.Idled:Connect(function()
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
        print("Anti-AFK: Prevented idle kick")
    end)
    
    print("Anti-AFK system enabled")
end

-- Initialize Anti-AFK system
setupAntiAFK()

-- Create Main Window
local window = library:AddWindow("Sherya Script | Galaxy Hub", {
    main_color = Color3.fromRGB(75, 0, 130),
    min_size = Vector2.new(500, 800),
    can_resize = true,
})

local extraTab = window:AddTab("Extra")

extraTab:AddLabel("Buen juego!!! Auto Kill V2 Activado...")
extraTab:AddLabel("Good game!!! Auto Kill V2 Activated...")

extraTab:AddSwitch("God Mode Brawl", function(State)
    godModeToggle = State

    if State then
        task.spawn(function()
            while godModeToggle do
                game:GetService("ReplicatedStorage").rEvents.brawlEvent:FireServer("joinBrawl")
                task.wait(0)
            end
        end)
    end
end)

-- üìå Dropdown + Switch para seguir jugadores
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Variables
local targetPlayer = nil
local following = false

-- Dropdown para elegir al jugador
local followDropdown =
    extraTab:AddDropdown(
    "Selecciona jugador para seguir",
    function(selectedText)
        -- Extraer nombre
        local playerName = selectedText:match("| (.+)$")
        if playerName then
            local plr = Players:FindFirstChild(playerName)
            if plr then
                targetPlayer = plr
                game.StarterGui:SetCore("SendNotification", {
                    Title = "üéØ Objetivo fijado",
                    Text = "Jugador seleccionado: " .. plr.Name,
                    Duration = 3
                })
            end
        end
    end
)

-- Switch para activar/desactivar el seguimiento
extraTab:AddSwitch("Activar seguimiento", function(Value)
    following = Value
    if following and targetPlayer then
        game.StarterGui:SetCore("SendNotification", {
            Title = "‚úÖ Teleport Activado",
            Text = "Siguiendo a: " .. targetPlayer.Name,
            Duration = 3
        })

        spawn(function()
            while following and targetPlayer do
                local myChar = LocalPlayer.Character
                local targetChar = targetPlayer.Character
                if myChar and targetChar and targetChar:FindFirstChild("HumanoidRootPart") then
                    myChar:SetPrimaryPartCFrame(targetChar.HumanoidRootPart.CFrame * CFrame.new(0,0,-2))
                end
                wait(0.2)
            end
        end)
    else
        game.StarterGui:SetCore("SendNotification", {
            Title = "‚ùå Teleport Desactivado",
            Text = "Ya no est√°s siguiendo a nadie",
            Duration = 3
        })
    end
end)

-- Funci√≥n para mostrar username | displayname
local function getPlayerDisplayText(player)
    return player.DisplayName .. " | " .. player.Name
end

-- A√±adir jugadores presentes
for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        followDropdown:Add(getPlayerDisplayText(player))
    end
end

-- A√±adir jugadores nuevos
Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        followDropdown:Add(getPlayerDisplayText(player))
    end
end)

-- Remover jugadores que se vayan
Players.PlayerRemoving:Connect(function(player)
    if player ~= LocalPlayer then
        followDropdown:Remove(getPlayerDisplayText(player))
        if targetPlayer == player then
            following = false
            targetPlayer = nil
        end
    end
end)

extraTab:AddSwitch("Auto Ground Slam", function(Value)
    _G.AutoGroundSlam = Value

    task.spawn(function()
        while _G.AutoGroundSlam do
            local player = game.Players.LocalPlayer
            local char = player.Character
            local backpack = player.Backpack

            -- Buscar la herramienta
            local slamTool = char and char:FindFirstChild("Ground Slam") or backpack:FindFirstChild("Ground Slam")
            if slamTool then
                -- Equipar si est√° en la mochila
                if slamTool.Parent == backpack and char and char:FindFirstChild("Humanoid") then
                    char.Humanoid:EquipTool(slamTool)
                end
                -- Usar la herramienta como si dieras clic
                slamTool:Activate()
            end

            task.wait(0.3) -- Velocidad de uso (puedes ajustar)
        end
    end)

    if not Value then
        -- Cuando lo apagas, guardar la herramienta en la backpack
        local character = game.Players.LocalPlayer.Character
        if character then
            local equipped = character:FindFirstChild("Ground Slam")
            if equipped then
                equipped.Parent = game.Players.LocalPlayer.Backpack
            end
        end
    end
end, "Usa Ground Slam autom√°ticamente")

extraTab:AddLabel("More ideas to fill this table, on my discord server, it's in credits")
extraTab:AddLabel("M√°s ideas para llenar esta tabla, en mi servidor de discord, est√° en cr√©ditos")
