--// Configuraci√≥n
local webhooks = {
    Rebirths = "https://discord.com/api/webhooks/1430782885668851814/UPAdeg0ouObLOg84GHdhPC8gbyEMpFqhTwTARtMRSfKkKwHSF38-Bhsnl7bCgwgj7rqz",
    Kills = "https://discord.com/api/webhooks/1430782758052954223/l8n-ANnplP1G5adOmHrXBBFsRq7ezwA00oXRcBrGlXDZULM-D3AnGhjbY7mZ1u8RXE1D",
    Strength = "https://discord.com/api/webhooks/1430782119738867724/Xxp2_XheCEVz3Ot3a-NLW6jweSf5w3r1BMtqyKu3C3M3Z96z2lsPsrpYXtDKJawPKsmJ",
    MuscleKing = "https://discord.com/api/webhooks/1430783158286028841/3QAZmZL5WG37hCk1NrIKzjrG-MQeWNW3ux8irXqf3EC9suzQlRqM6bZZ2NsGQS4V3bPf",
    Brawls = "https://discord.com/api/webhooks/1430783011195977819/KtVFchlpGM6EXsIdN0QFywF3Hh4DV_Oa4xNeipjd2JeeOqMh4RkzlDoyYSqCbUh3kAFO"
}

--// Servicios
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local HttpService = game:GetService("HttpService")

--// Tablas de Leaderboards
local boards = {
    rebirthsLeaderboard = "Rebirths",
    killsLeaderboard = "Kills",
    strengthLeaderboard = "Strength",
    muscleKingLeaderboard = "MuscleKing",
    brawlsLeaderboard = "Brawls"
}

--// Funci√≥n para enviar embeds
local function sendToWebhook(webhookUrl, title, data)
    if not webhookUrl or webhookUrl == "" then return end
    local embed = {
        ["title"] = "üèÜ " .. title .. " Leaderboard",
        ["description"] = data,
        ["color"] = 0xFFD700,
        ["footer"] = { ["text"] = "Delta Executor | Sherya System" },
        ["timestamp"] = DateTime.now():ToIsoDate()
    }
    local payload = HttpService:JSONEncode({
        ["username"] = "Leaderboard Bot",
        ["embeds"] = { embed }
    })
    request({
        Url = webhookUrl,
        Method = "POST",
        Headers = { ["Content-Type"] = "application/json" },
        Body = payload
    })
end

--// Procesar los leaderboards
for boardName, boardLabel in pairs(boards) do
    local leaderboard = Workspace:FindFirstChild(boardName)
    local lines = {}
    local place = 1

    if leaderboard then
        local boardPart = leaderboard:FindFirstChild("leaderboardPart")
        if boardPart then
            local gui = boardPart:FindFirstChild("leaderboardGui")
            if gui then
                local playerList = gui:FindFirstChild("playerList")
                if playerList then
                    local innerFrame = playerList:FindFirstChild("innerFrame")
                    if innerFrame then
                        for _, entry in ipairs(innerFrame:GetChildren()) do
                            if entry:IsA("Frame") and entry.Name == "playerEntry" then
                                local nameLabel = entry:FindFirstChild("nameLabel")
                                local amountLabel = entry:FindFirstChild("amountLabel")
                                local username = nameLabel and nameLabel:IsA("TextLabel") and nameLabel.Text or "N/A"
                                local amount = amountLabel and amountLabel:IsA("TextLabel") and amountLabel.Text or "N/A"
                                table.insert(lines, string.format("**%d | User:** %s ‚Äî **Cantidad:** %s", place, username, amount))
                                place += 1
                            end
                        end
                    end
                end
            end
        end
    end

    if #lines > 0 then
        local message = table.concat(lines, "\n")
        sendToWebhook(webhooks[boardLabel], boardLabel, message)
    else
        sendToWebhook(webhooks[boardLabel], boardLabel, "No se encontr√≥ informaci√≥n en el leaderboard.")
    end
end
