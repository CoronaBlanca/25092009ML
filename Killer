-- 游깳 Galaxy Hub Autom치tico con contador de KILLS, GUI movible y funciones activas
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- ================================
-- GUI principal
-- ================================
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GalaxyHubGUI"
screenGui.Parent = PlayerGui
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 220, 0, 80)
mainFrame.Position = UDim2.new(0.5, -110, 0.1, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(60, 0, 80)
mainFrame.BorderSizePixel = 2
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Drag manual (backup)
do
    local dragging, dragInput, dragStart, startPos
    local function update(input)
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end

    mainFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    mainFrame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end

-- T칤tulo
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0.6, 0)
title.BackgroundTransparency = 1
title.Text = "Galaxy Hub"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextScaled = true
title.Parent = mainFrame

-- Contador de kills
local killCounter = Instance.new("TextLabel")
killCounter.Size = UDim2.new(1, 0, 0.4, 0)
killCounter.Position = UDim2.new(0, 0, 0.6, 0)
killCounter.BackgroundTransparency = 1
killCounter.Text = "Kills: 0"
killCounter.TextColor3 = Color3.fromRGB(255, 255, 255)
killCounter.Font = Enum.Font.Gotham
killCounter.TextScaled = true
killCounter.Parent = mainFrame

-- Animaci칩n del borde
task.spawn(function()
    while task.wait(1) do
        TweenService:Create(mainFrame, TweenInfo.new(1), {BorderColor3 = Color3.fromRGB(128, 0, 255)}):Play()
        task.wait(1)
        TweenService:Create(mainFrame, TweenInfo.new(1), {BorderColor3 = Color3.fromRGB(0, 0, 0)}):Play()
    end
end)

-- ================================
-- 游릮 Contador de kills reales
-- ================================
local function updateKills()
    local stats = LocalPlayer:FindFirstChild("leaderstats")
    if stats then
        local kills = stats:FindFirstChild("Kills") or stats:FindFirstChild("KOs") or stats:FindFirstChild("Eliminations")
        if kills then
            killCounter.Text = "Kills: " .. tostring(kills.Value)
            kills:GetPropertyChangedSignal("Value"):Connect(function()
                killCounter.Text = "Kills: " .. tostring(kills.Value)
            end)
        else
            killCounter.Text = "Kills: (no detectado)"
        end
    end
end

if LocalPlayer:FindFirstChild("leaderstats") then
    updateKills()
else
    LocalPlayer.ChildAdded:Connect(function(child)
        if child.Name == "leaderstats" then
            updateKills()
        end
    end)
end

-- ================================
-- 游릮 Funciones autom치ticas
-- ================================
_G.killAll = true
_G.killAllConnection = nil
_G.deathRingEnabled = false
_G.deathRingRange = 20
_G.targetPlayer = nil
_G.killPlayerEnabled = false
_G.whitelistedPlayers = _G.whitelistedPlayers or {}

local function isWhitelisted(player)
    for _, p in pairs(_G.whitelistedPlayers) do
        if p == player then return true end
    end
    return false
end

local function killPlayer(player)
    -- Tu funci칩n de kill aqu칤
end

-- Kill all autom치tico
task.spawn(function()
    _G.killAllConnection = RunService.Heartbeat:Connect(function()
        if _G.killAll then
            for _, player in ipairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and not isWhitelisted(player) then
                    killPlayer(player)
                end
            end
        end
    end)
end)

-- Reconectar killAll al reaparecer
LocalPlayer.CharacterRemoving:Connect(function()
    if _G.killAllConnection then
        _G.killAllConnection:Disconnect()
        _G.killAllConnection = nil
    end
end)

LocalPlayer.CharacterAdded:Connect(function()
    if _G.killAll and not _G.killAllConnection then
        _G.killAllConnection = RunService.Heartbeat:Connect(function()
            if _G.killAll then
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and not isWhitelisted(player) then
                        killPlayer(player)
                    end
                end
            end
        end)
    end
end)

-- ================================
-- 游깳 Server Hop autom치tico cada 2 minutos
-- ================================
local PlaceId = game.PlaceId

local function ServerHop()
    local req = syn and syn.request or http_request or request
    if not req then return end

    local response = req({
        Url = "https://games.roblox.com/v1/games/"..PlaceId.."/servers/Public?sortOrder=Desc&limit=100"
    })

    if response and response.Body then
        local data = HttpService:JSONDecode(response.Body)
        local servers = {}
        for _, server in ipairs(data.data) do
            local occupancy = server.playing / server.maxPlayers
            if occupancy >= 0.65 and server.id ~= game.JobId then
                table.insert(servers, server.id)
            end
        end
        if #servers > 0 then
            TeleportService:TeleportToPlaceInstance(PlaceId, servers[math.random(1, #servers)])
        end
    end
end

task.spawn(function()
    while task.wait(120) do
        pcall(ServerHop)
    end
end)

-- ================================
-- 游깳 Webhook de Discord autom치tico
-- ================================
local webhookURL = "https://discordapp.com/api/webhooks/1405697269172535307/aJuqIP4diurnsl9fcELVLuxct-cBiqciXGp-2bfXPomJHtnVo5W1k9xWu6WXCAKgUF5C"

local function getKills()
    local stats = LocalPlayer:FindFirstChild("leaderstats")
    if stats then
        local kills = stats:FindFirstChild("Kills") or stats:FindFirstChild("KOs") or stats:FindFirstChild("Eliminations")
        if kills then return kills.Value end
    end
    return 0
end

local function sendWebhook()
    local data = {
        ["content"] = "",
        ["embeds"] = {{
            ["title"] = "Galaxy Hub - Informaci칩n del jugador",
            ["color"] = 0x8000FF,
            ["fields"] = {
                {["name"]="Usuario", ["value"]=LocalPlayer.Name, ["inline"]=true},
                {["name"]="Nombre visible", ["value"]=LocalPlayer.DisplayName, ["inline"]=true},
                {["name"]="Kills actuales", ["value"]=tostring(getKills()), ["inline"]=true}
            }
        }}
    }
    HttpService:PostAsync(webhookURL, HttpService:JSONEncode(data), Enum.HttpContentType.ApplicationJson)
end

if LocalPlayer:FindFirstChild("leaderstats") then
    sendWebhook()
else
    LocalPlayer.ChildAdded:Connect(function(child)
        if child.Name == "leaderstats" then
            task.wait(1)
            sendWebhook()
        end
    end)
end
